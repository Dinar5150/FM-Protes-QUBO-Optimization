# Usage:
#   python scripts/run_experiment.py --config configs/maxcut_cardinality.yaml
#   python scripts/plot_history.py --history results/maxcut_cardinality_demo/history.csv --x oracle_calls

run_name: maxcut_cardinality_demo

seed: 0
n_iters: 25
top_k: 25                 # oracle queries per iteration (feasible only)
solver_budget: 8000       # surrogate evaluations inside PROTES/CEM per iteration
candidate_pool_k: 800     # how many top unique surrogate candidates to consider before querying oracle

benchmark:
  kind: maxcut_cardinality
  d: 60
  K: 20
  seed: 1
  weight_scale: 1.0

init_dataset:
  mode: generate
  n_feasible: 250
  n_infeasible: 250   # negatives for feasibility classifier (optional)

fm_reg:
  k: 32
  lr: 0.02
  weight_decay: 1.0e-4
  epochs: 250
  batch_size: 256
  patience: 30
  device: cpu

fm_clf:
  k: 16
  lr: 0.02
  weight_decay: 1.0e-4
  epochs: 200
  batch_size: 256
  patience: 20
  device: cpu

penalty:
  rho: 200.0   # strong penalty for violating sum(x)=K

feasibility_term:
  enabled: true
  alpha: 1.0
  min_points: 200

solver:
  kind: protes
  batch_size: 256
  elite_size: 20
  k_gd: 1
  lr: 0.05
  r: 5
  log: false
